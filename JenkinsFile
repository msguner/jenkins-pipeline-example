def features = ['test1.feature', 'test2.feature']
def tags = ['@getJenkinsParamsAndPrint', '@printBestDev', '@printWorstDev', '@dene'];

node {
    stage('checkout'){
        checkout scm
    }

    def PWD = pwd();
    echo "pwd : " + PWD

    stage('print workspace path'){
        echo "Workspace path : ${env.WORKSPACE}"
    }

    stage('get workspace files'){
        final foundFiles = findFiles(glob: "src/test/java/tests/**/*.feature")

        for (int i = 0; i < foundFiles.length; i++) {
            def filename = foundFiles[i]
            echo "${filename}"
        }
    }

    stage('Test') {
        def selectedTags = input(
                message: 'Please select test tags.',
                parameters: [
                        [$class: 'ChoiceParameterDefinition',
                         choices: tags,
                         name: 'input',
                         description: 'A select box option']
                ])

        echo "Selected Tags : ${selectedTags}"

        def files = findFiles(glob: '**/TEST-*.xml')
            echo """${files[0].name} ${files[0].path} ${files[0].directory} ${files[0].length} ${files[0].lastModified}"""
    }
}